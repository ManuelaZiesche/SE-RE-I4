<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stura Mitgliederdatenbank: checklisten.views-Namensbereichsreferenz</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stura Mitgliederdatenbank
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Erzeugt von Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Suchen','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Suchen');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacechecklisten_1_1views.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Funktionen</a>  </div>
  <div class="headertitle">
<div class="title">checklisten.views-Namensbereichsreferenz</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funktionen</h2></td></tr>
<tr class="memitem:a78f44fae137ca8b88d86f00ecb9baba9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechecklisten_1_1views.html#a78f44fae137ca8b88d86f00ecb9baba9">main_screen</a> (request)</td></tr>
<tr class="separator:a78f44fae137ca8b88d86f00ecb9baba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea0a072194d1c4873a1e86faf81a6ce"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechecklisten_1_1views.html#acea0a072194d1c4873a1e86faf81a6ce">erstellen</a> (request)</td></tr>
<tr class="separator:acea0a072194d1c4873a1e86faf81a6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6976412ac77851e27fbc8da61342bfa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechecklisten_1_1views.html#ad6976412ac77851e27fbc8da61342bfa">abhaken</a> (request)</td></tr>
<tr class="separator:ad6976412ac77851e27fbc8da61342bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad987f274fbd80d84b95312bd9b48b0f8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechecklisten_1_1views.html#ad987f274fbd80d84b95312bd9b48b0f8">loeschen</a> (request)</td></tr>
<tr class="separator:ad987f274fbd80d84b95312bd9b48b0f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3b85a1e22d3e7df0819506ed828ecf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechecklisten_1_1views.html#a8e3b85a1e22d3e7df0819506ed828ecf">get_funktionen</a> (request)</td></tr>
<tr class="separator:a8e3b85a1e22d3e7df0819506ed828ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Dokumentation der Funktionen</h2>
<a id="ad6976412ac77851e27fbc8da61342bfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6976412ac77851e27fbc8da61342bfa">&#9670;&nbsp;</a></span>abhaken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def checklisten.views.abhaken </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This view is responsible for checking or unchecking a task from the checklist.
It first checks if the user is allowed to check a task, i.e. is auhenticated and superuser.
Next, the parameters task_type and task_id are fetched from the request. They are used to determine if an Aufgabe or a Recht was checked, and to get the correct task.
Finally, the task is checked or unchecked depending on its current state and the changes are saved.

:param request: The HTTP request that triggered the view, including parameters task_type and task_id.
:return: An empty HttpResponse if the operation was successful.
:return: An HttpResponse indicitang the error if an error has occured or if the user is not allowed to perform the operation.
</pre> 
</div>
</div>
<a id="acea0a072194d1c4873a1e86faf81a6ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea0a072194d1c4873a1e86faf81a6ce">&#9670;&nbsp;</a></span>erstellen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def checklisten.views.erstellen </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This view is responsible for creating a new checklist.
It first checks if the user is allowed to create a new checklist (i.e. is authenticated and superuser).
Next, the Mitglied's and Funktion's IDs as well as whether general tasks shall be included are fetched from the request.
The view then tries to find the Mitglied and Funktion with the specified ID, and returns an error message if at least one of them could not be found.
After that, the view checks if a checklist for this Mitglied and Funktion already exists. If that is the case, an error message is shown to the user.
Finally, the new checklist is created and all Aufgaben and Rechte are added to it according to the specified parameters in the request.

:param request: The HTTP request that triggered the view, including parameters mitgliedSelect, funktionSelect and generalTasksCheckbox.
:return: A HttpResponse, if an error has occured, indicating the error to the user.
:return: A redirect to /checklisten if creating the checklist was successful or a checklist for the same Mitglied and Funktion already exists.
</pre> 
</div>
</div>
<a id="a8e3b85a1e22d3e7df0819506ed828ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3b85a1e22d3e7df0819506ed828ecf">&#9670;&nbsp;</a></span>get_funktionen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def checklisten.views.get_funktionen </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This view is responsible for getting all Funktionen associated to a Mitglied that was selected in the create checklist modal.
First, it checks if the user is allowed to get a list of Funktionen for a Mitglied in this context (i.e. the user is authenticated and superuser).
Next, all Funktionen for the specified mitglied_id are determined and returned through a rendered template of select options to populate the dropdown in the create checklist modal.

:param request: The HTTP request that triggered the view, including the mitglied_id to get the Funktionen for.
:return: An HttpResponse indicating the error if an error occured.
:return: The rendered select options to populate the dropdown with if everything was successful.
</pre> 
</div>
</div>
<a id="ad987f274fbd80d84b95312bd9b48b0f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad987f274fbd80d84b95312bd9b48b0f8">&#9670;&nbsp;</a></span>loeschen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def checklisten.views.loeschen </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This view is responsible for deleting an existing checklist.
First, it checks whether the user is allowed to delete the checklist (i.e. is authenticated and superuser).
Next, the checkliste specified in the request's parameter checkliste_id is deleted. 
Since all ForeignKey relations in other models are set to cascade if the checklist is deleted (i.e. in ChecklisteRecht and AufgabeRecht), only the checklist itself needs to be deleted explicitly.

:param request: The HTTP request that triggered the view, including parameter checkliste_id.
:return: An empty HttpResponse if deleting the checklist was successful.
:return: An HttpResponse indicating an error if one occured or a user is not allowed to to delete a checklist.
</pre> 
</div>
</div>
<a id="a78f44fae137ca8b88d86f00ecb9baba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f44fae137ca8b88d86f00ecb9baba9">&#9670;&nbsp;</a></span>main_screen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def checklisten.views.main_screen </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This view renders all existing checklists. Furthermore, it provides the 20 latest Mitglieder to the modal used for creating a new checklist.
If the user is not authenticated, an error message will be displayed and the user is redirected to the login page.

:param request: The HTTP request that triggered the view.
:return: The rendered main_screen view, or a redirect to the login page if the user is not authenticated.
</pre> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>checklisten</b></li><li class="navelem"><a class="el" href="namespacechecklisten_1_1views.html">views</a></li>
    <li class="footer">Erzeugt von <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
